"use strict";(self.webpackChunkdones=self.webpackChunkdones||[]).push([[702],{9702:function(e,s,r){r.r(s),r.d(s,{default:function(){return Z}});var a=r(1413),n=r(885),t=r(2791),i=r(8033),o=r(1373),u=r(6152),d=r(3504),c=r(3226),l=r(7454),m=r(8394),p=r(1097),f=r(3496),h=r(184),g=function(e){var s=e.data,r=e.subgroups,a=e.title,n=Object.keys(s).filter((function(e){return"id"!==e})),t=[{name:"Dones",data:n.map((function(e){return s[e]}))}],i=Object.values(r).reduce((function(e,s,r){return e[s]||(e[s]={text:s,x:r}),e}),{}),o={chart:{height:200,type:"radar"},title:{text:a},xaxis:{categories:n},annotations:{position:"front",labels:Object.values(i)}};return(0,h.jsx)(f.Z,{options:o,series:t,type:"radar",height:300})};u.kL.register(u.uw,u.f$,u.ZL,u.Dx,u.u,u.De);var v={indexAxis:"y",elements:{bar:{borderWidth:1}},responsive:!0,plugins:{datalabels:{display:!0},legend:{display:!1},title:{display:!0,text:"Mis dones",fontSize:18}}},x=t.forwardRef((function(e,s){return(0,h.jsxs)("div",{ref:s,className:"results",children:[(0,h.jsx)("div",{className:"result-graphic",children:e.resultado&&(0,h.jsx)(g,{title:"Mis dones: "+e.user,data:e.resultado,subgroups:e.subgroups})}),(0,h.jsx)("div",{className:"dones",children:e.dones.slice(0,3).map((function(e,s){return(0,h.jsx)(c.Z,{data:e},s)}))}),"Fuente: joel5vega.github.io/dones"]})}));var b=function(e){var s=(0,t.useState)(""),r=(0,n.Z)(s,2),a=(r[0],r[1],e.dones),i=e.dones.map((function(e){return e.name})).slice(0,4),o=(0,t.useRef)(),u={labels:i,datasets:[{label:"Dones",data:a.map((function(e){return e.score})).slice(0,4),backgroundColor:"#3952b2"}]};return(0,h.jsx)("div",{className:"resultados",children:e.show&&(0,h.jsxs)(t.Fragment,{children:[(0,h.jsx)(x,{ref:o,options:v,data:u,dones:a,resultado:e.resultado,subgroups:e.subgroups,user:e.user.displayName.split(" ")[0]}),(0,h.jsxs)("div",{className:"stack",children:[(0,h.jsx)("div",{className:"boton",onClick:function(){return(0,p.exportComponentAsJPEG)(o,{fileName:"misdones"})},children:"Descargar"}),(0,h.jsx)(d.rU,{style:{color:"var(--fondo)",background:"var(--informacion)",padding:"0.5rem",minHeight:"1rem ",borderRadius:"1rem"},to:"/lista",children:"Lista de dones"}),(0,h.jsx)(l.Z,{url:"https://joel5vega.github.io/dones",title:"Mira esta app para conocer tus dones espirituales!",children:(0,h.jsx)(m.Z,{size:32,round:!0})})]})]})})},j=(0,t.lazy)((function(){return Promise.all([r.e(632),r.e(395)]).then(r.bind(r,2395))}));var Z=function(e){var s=(0,t.useState)({}),r=(0,n.Z)(s,2),u=(r[0],r[1],(0,t.useState)([])),d=(0,n.Z)(u,2),c=d[0],l=d[1],m=(0,t.useState)(e.user?e.answers:i.Z),p=(0,n.Z)(m,2),f=p[0],g=p[1],v=(0,t.useState)(o.Z),x=(0,n.Z)(v,2),Z=x[0],S=x[1],y=(0,t.useState)(!1),C=(0,n.Z)(y,2),w=C[0],M=C[1],k=(0,t.useState)(0),D=(0,n.Z)(k,2),P=(D[0],D[1],(0,t.useState)(!1)),N=(0,n.Z)(P,2),R=(N[0],N[1],e.user&&e.user.uid,function(s,r){console.log("handlechange on test",s,r);var n;n=f.map((function(e){return e.id===s?(0,a.Z)((0,a.Z)({},e),{},{respuesta:r}):e})),g(n),e.setAnswers(n)});return(0,h.jsx)("div",{children:w?(0,h.jsx)(b,{resultado:c||[],subgroups:{Liderazgo:"Mayordomia","Administraci\xf3n":"Mayordomia",Pastoreo:"Mayordomia","Ense\xf1anza":"Comunicar",Conocimiento:"Comunicar","Sabidur\xeda":"Comunicar","Profec\xeda":"Comunicar",Evangelismo:"Comunicar",Apostolado:"Comunicar",Fe:"Poder",Discernimiento:"Poder","Exhortaci\xf3n":"Ministrar",Servicio:"Ministrar",Misericordia:"Ministrar",Dar:"Ministrar",Hospitalidad:"Ministrar"},user:e.user,name:e.user.displayName,show:w,dones:Z.sort((function(e,s){return s.score-e.score}))}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(j,{answers:e.answers,onChange:R,handleSaveProgress:e.handleSaveProgress,buscarDon:function(){var s={id:(new Date).toISOString().slice(0,10)},r=Z;o.Z.map((function(n){var t=n.score;f.map((function(e){n.valores.map((function(s){e.id===s&&e.respuesta&&(t+=e.respuesta)}))})),s[n.name]=t,r=r.map((function(e){return e.id==n.id?(0,a.Z)((0,a.Z)({},e),{},{score:t}):e})),S(r),e.setDones(r)})),M(!w),l(s),e.setResultado(s),e.handleSaveProgress(),e.handleSaveResultado(Z,s)},handleResetClick:function(){e.answers.forEach((function(e){R(e.id,0)})),e.handleSaveProgress()}})})})}}}]);
//# sourceMappingURL=702.815eeac8.chunk.js.map